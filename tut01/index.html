<html>
<head>
	<title>WebGL Tutorial 1</title>
	<script src="webgl-utils.js"></script>
	<script id="2d-vertex-shader" type="x-shader/x-vertex">
		attribute vec2 a_position;

		uniform vec2 u_resolution;

		void main () {
			vec2 zeroToOne = a_position / u_resolution;

			vec2 zeroToTwo = zeroToOne * 2.0;

			vec2 clipSpace = zeroToTwo - 1.0;

			gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
		}
	</script>

	<script id="2d-fragment-shader" type="x-shader/x-fragment">
		void main () {
			gl_FragColor = vec4(1,1,0,1);
		}
	</script>
	<script>
		window.addEventListener("load", function () {
			var canvas,
				gl,
				vertexShader,
				fragmentShader,
				program,
				buffer,
				resolutionLocation;

			canvas = document.querySelector('canvas');
			gl = canvas.getContext("experimental-webgl");

			vertexShader = createShaderFromScriptElement(gl, "2d-vertex-shader");
			fragmentShader = createShaderFromScriptElement(gl, "2d-fragment-shader");
			program = createProgram(gl, [vertexShader, fragmentShader]);
			gl.useProgram(program);

			resolutionLocation = gl.getUniformLocation(program, "u_resolution");
			gl.uniform2f(resolutionLocation, canvas.width, canvas.height);

			buffer = gl.createBuffer();
			gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
			gl.bufferData(
				gl.ARRAY_BUFFER,
				new Float32Array([
					10, 20,
					80, 20,
					10, 30,
					10, 30,
					80, 20,
					80, 30
				]),
				gl.STATIC_DRAW
			);

			gl.enableVertexAttribArray(resolutionLocation);
			gl.vertexAttribPointer(resolutionLocation, 2, gl.FLOAT, false, 0, 0);

			gl.drawArrays(gl.TRIANGLES, 0, 6);
		});
	</script>
</head>
<body>

	<canvas width="500" height="500">

</body>
</html>